
----
VERSION CLPlus_V36(beta) 2023/05/28

----
- Mod_Admin_Plus V25.08.27B 2025/08/27
	- Se modifica la estructura de la bbdd eliminando tablas y creando nuevos campos.
	- La codificación de la bbdd se modifica a CHARSET=utf16 COLLATE=utf16_spanish2_ci.
----
- DESDE LA VERSIÓN CLPlus_V.New18Beta_F4
	- AL INICIAR LA INSTALACIÓN, SI EXISTE UNA INSTALACIÓN PREVIA NOS DA LA OPCIÓN DE CONSERVAR LA INSALACIÓN ANTIGUA 
O INICIAR UNA NUEVA DESDE CERO.
ELIMINANDO TODAS LA TABLAS DE LA BBDD Y DIRECTORIOS DE USUARIOS

----

- LA DURACIÓN DE LA JORNADA LABORAL EN DÍAS SE DEFINE EN:
		- fichar/Inc_Suma_Todo.php		L.100
		- Balances/Inc_Suma_Todob.php 	L.132
	- POR EJEMPLO:
		- // PARA 8H LABORALES 28800S
		- $dias = floor($totsec/28800);

----

- DESDE LA VERSIÓN CLPlus_V.New15Beta_F4
	- SE ALTERAN LAS CLAVES DE LAS TABLAS DE USUARIOS,
	- COMENZANDO TODAS POR clp_[ClaveUsuario_año]

- LOS ARCHIVOS AFECTADOS SON BÁSICAMENTE:
	- fichar/*
	- config/index_Play_System.php QUE PASA A SER index.php
	- indexqr.php
	- upbbdd/bbdd.php
	- Admin/Admin_Crear.php
	- cam/index.php
	- cam/indexqr.php
	- Balances/Balances.php
	- Balances/Balances_otr.php

- ES SUFICIENTE CON SOBREESCRIBIR ESTOS ARCHIVOS.
	- RENOMBRAR LAS TABLAS DE USUARIOS COMENZANDO POR LA CLAVE clp_
	- SI TENEMOS LA APLICACIÓN YA EN PRODUCCIÓN.
	- SI SE TRATA DE UNA INSTALACIÓN LIMPIA NO ES NECESARIO REALIZAR NINGUNA ACCIÓN.

----

- LA FUNCIÓN admin(); ESTÁ ACTIVADA POR DEFECTO EN ESTA VERSIÓN.
	- ENVIA UN MAIL CUANDO SE ABRE SESIÓN AL MAIL DEL ADMINISTRADOR,
	- CON LOS DATOS, DEL USUARIO QUE HA ACCEDIDO AL SISTEMA,
	- CONFIGURADOS EN EL ARCHIVO Inclu/misdatos.php
	- SE PUEDE COMENTAR EN LA L.72 DE config/index_Play_System.php
	- o index.php TRAS LA INSTALACIÓN.

----

- DESDE LA VERSIÓN CLBasic_V.New11_F2.zip
	- SE HAN CREADO UNOS ARCHIVOS DE REDONDEO DEL HORARIO DE ENTRADA / SALIDA.

	- fichar/fichar_redondeo_in.php
	- fichar/fichar_redondeo_out.php

	- SE PUEDE COMENTAR EL REDONDEO Y DESCOMENTAR LA HORA ORIGINAL DE CALCULO

- QUE AFECTAN AL LOS SCRIPTS:

	- config/index_Play_System.php    
	- L.885 & L.936 & L.1013 & L.1073
	- QUE PASA A SER index.php EN LA INSTALACIÓN

	- indexqr.php						L.74 & L.196
	- cam/indexqr.php					L.91 & L.213
	- fichar/fichar_Crear.php         L.254 & L.303
	- fichar/fichar_Crear_otr.php     L.370 & L.427
	- fichar/fichar_Crear_tds.php		L.407 & L.468


- SE PUEDE COMENTAR EL REQUIRE Y DESCOMENTAR LA HORA ORIGINAL DE CALCULO

- REDONDEO LOS SEGUNDOS A 00 SIEMPRE

----

- FICHAR ENTRADA:

	- REDONDEO LOS MINUTOS DE ENTRADA PENALIZANDO DE 10 EN 10
	- SI FALTAN 10 MINUTOS PARA EMPUNTO REDONDEO LA HORA +1 A LA SIGUIENTE Y MINUTOS A 00

----

- FICHAR SALIDA:

	- SI PASAN MENOS DE 25 MINUTOS DE EMPUNTO REDONDEO LOS MINUTOS A 00
	- SI FALTAN MAS DE 5 MINUTOS PARA EMPUNTO O PASA DE 25 MINUTOS REDONDEO LOS MINUTOS A 30 
	- SI FALTAN 5 MINUTOS PARA EMPUNTO O MENOS REDONDEO LA HORA DE SALIDA +1 Y MINUTOS 00

	- SI LA HORA DE ENTRADA ES LA MISMA QUE EL REDONDEO
	- Y LOS MINUTOS DE REDONDEO SON MENORES O IGUALES QUE LOS DE ENTRADA
	- Y SI LOS MINUTOS DE REDONDEO SON MENORES QUE LOS ACTUALES

----

## Autor: Juan Manuel Barrós Pazos 2020/2025

----